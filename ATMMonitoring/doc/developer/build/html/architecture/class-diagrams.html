

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Class Diagrams &mdash; ATMMonitoring 1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="ATMMonitoring 1.0 documentation" href="../index.html" />
    <link rel="up" title="Architecture" href="architecture.html" />
    <link rel="next" title="Sequence Diagrams" href="sequence-diagrams.html" />
    <link rel="prev" title="Architecture" href="architecture.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="sequence-diagrams.html" title="Sequence Diagrams"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="architecture.html" title="Architecture"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">ATMMonitoring 1.0 documentation</a> &raquo;</li>
          <li><a href="architecture.html" accesskey="U">Architecture</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="class-diagrams">
<h1>Class Diagrams<a class="headerlink" href="#class-diagrams" title="Permalink to this headline">¶</a></h1>
<p>The Class Diagrams presented in this section are simplified versions which not include the attributes or methods, focusing on the visualization of
the class relationships.</p>
<div class="section" id="controller-class-diagram">
<h2>Controller Class Diagram<a class="headerlink" href="#controller-class-diagram" title="Permalink to this headline">¶</a></h2>
<img alt="../_images/controllerHl.png" class="align-center" src="../_images/controllerHl.png" />
<p>Each Controller holds the responsibility of communicating between the view (jsp pages) and the Service Layer. From that layer it obtains the
model object and performs operations onto those entities. The Controller can create new model objects and insert their data, but <strong>cannot save
their state</strong>, which is responsibility of the Persistence layer (through the Service layer).</p>
<p>Controllers may also instantiate helper classes for performing specific tasks (e.g. property editor in charge of parsing date strings to Date
objects).</p>
<div class="section" id="detailed-class-diagram">
<h3>Detailed Class Diagram<a class="headerlink" href="#detailed-class-diagram" title="Permalink to this headline">¶</a></h3>
<p>Below is the detailed class diagram, where it is possible to see all the relationships between the controllers, the services and the entities.</p>
<img alt="../_images/controller.png" class="align-center" src="../_images/controller.png" style="width: 1000px; height: 600px;" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the relations between the entities and the services have been omitted on purpose in this diagram, because the main objective is to show
the main relationships of each controller. For knowing the precise relationship between the services and the entities, check the diagram in the
section <a class="reference internal" href="#service-detailed-class-diagram">Service Detailed Class Diagram</a>, and for all the relationships between the entities, check the section <a class="reference internal" href="#entities-class-diagram">Entities Class Diagram</a> .</p>
</div>
<p>The UserService is referenced in each controller, with the exception of the HelpController and LoginController. That Controller is used mainly
for checking whether the user is logged, and if it is, asking this service to return the Entity related so we can obtain the customized welcome
message.</p>
<p>The LoginController and the HelpController hold primarily redirection logic, as the login functionality is completely provided by Spring and
the help pages are just static HTML.</p>
</div>
</div>
<div class="section" id="service-and-persistence-class-diagram">
<h2>Service and Persistence Class Diagram<a class="headerlink" href="#service-and-persistence-class-diagram" title="Permalink to this headline">¶</a></h2>
<img alt="../_images/serviceHl.png" class="align-center" src="../_images/serviceHl.png" />
<p>Currently each Service acts as an interface to one DAO, so basically each Service has a 1-1 main relationship with a DAO, although there are some
cases where a Service has some auxiliar DAOs, and also DAOs which are used by several Services. Some Services also hold a relationship with another
Service in order to provide a complex business logic operation related to multiple entities through a simple Service method call.</p>
<p>The services are defined by an interface with a sole implementation, and each client of the service is intended to call or instantiate the service
using the interface and Spring support (this is currently being done with Spring annotations).</p>
<div class="section" id="service-detailed-class-diagram">
<h3>Service Detailed Class Diagram<a class="headerlink" href="#service-detailed-class-diagram" title="Permalink to this headline">¶</a></h3>
<p>Below is the complete class diagram where we can see the relationships between Services and DAOs:</p>
<img alt="../_images/service.png" class="align-center" src="../_images/service.png" style="width: 1000px; height: 600px;" />
</div>
<div class="section" id="sockets-class-diagram">
<h3>Sockets Class Diagram<a class="headerlink" href="#sockets-class-diagram" title="Permalink to this headline">¶</a></h3>
<p>The socket classes are in charge of providing the communication between the ATM Agent and the server in both directions. You can check how
those classes are related in the next diagram:</p>
<img alt="../_images/sockets.png" class="align-center" src="../_images/sockets.png" style="width: 800px; height: 500px;" />
</div>
<div class="section" id="dao-class-diagram">
<h3>Dao Class Diagram<a class="headerlink" href="#dao-class-diagram" title="Permalink to this headline">¶</a></h3>
<p>The DAO classes allow to perform CRUD <a class="footnote-reference" href="#id2" id="id1">[1]</a> and other operations over the entities, following the basic DAO Pattern where a DAO class is
defined using an interface and all the instances should be used through that interface. The relationship between DAO classes and entities (POJOs)
is 1-1, which means that each entity has a related DAO class that provides the required operations onto it. Each DAO class inherits from an
abstract parameterized class (AbstractDAO) all the base CRUD methods:</p>
<img alt="../_images/daoHl.png" class="align-center" src="../_images/daoHl.png" />
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><em>Create, Read, Update, Delete</em></td></tr>
</tbody>
</table>
<div class="section" id="dao-detailed-class-diagram">
<h4>DAO Detailed Class Diagram<a class="headerlink" href="#dao-detailed-class-diagram" title="Permalink to this headline">¶</a></h4>
<p>The next diagram shows all the DAOs and its related entities:</p>
<img alt="../_images/dao.png" class="align-center" src="../_images/dao.png" style="width: 1000px; height: 600px;" />
</div>
</div>
</div>
<div class="section" id="entities-class-diagram">
<h2>Entities Class Diagram<a class="headerlink" href="#entities-class-diagram" title="Permalink to this headline">¶</a></h2>
<p>The entities, or POJOs, are classes that conceptually represent a database table, and each instance of those classes represents a row of the
corresponding table. That&#8217;s the reason why the relationships between these objects are pretty similar (but <strong>NOT IDENTICAL</strong>) to the ones between the database tables.</p>
<p>The cardinality of the relationships is given by JPA annotations present in the classes (<a class="reference external" href="http://docs.oracle.com/javaee/7/api/javax/persistence/ManyToOne.html">&#64;ManyToOne</a>, <a class="reference external" href="http://docs.oracle.com/javaee/7/api/javax/persistence/OneToMany.html">&#64;OneToMany</a>, <a class="reference external" href="http://docs.oracle.com/javaee/7/api/javax/persistence/ManyToMany.html">&#64;ManyToMany</a> and <a class="reference external" href="http://docs.oracle.com/javaee/7/api/javax/persistence/OneToOne.html">&#64;OneToOne</a> ).</p>
<p>In the next diagram we include all the classes and their relationships <a class="footnote-reference" href="#id4" id="id3">[2]</a>:</p>
<img alt="../_images/entity.png" class="align-center" src="../_images/entity.png" style="width: 1000px; height: 600px;" />
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[2]</a></td><td>The diagram does not include the historic component, which means it reflects the valid relationships&#8217; cardinalities in a specific moment.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="diagrams-source-files">
<h2>Diagrams Source Files<a class="headerlink" href="#diagrams-source-files" title="Permalink to this headline">¶</a></h2>
<p>These diagrams were made using <a class="reference external" href="http://dia-installer.de/)">Dia 0.96</a>. You can download their source files here:</p>
<ul class="simple">
<li><a class="reference download internal" href="../_downloads/controllerHl.dia"><tt class="xref download docutils literal"><span class="pre">Controller</span> <span class="pre">High</span> <span class="pre">Level</span> <span class="pre">Class</span> <span class="pre">Diagram</span></tt></a></li>
<li><a class="reference download internal" href="../_downloads/controller.dia"><tt class="xref download docutils literal"><span class="pre">Controller</span> <span class="pre">Complete</span> <span class="pre">Diagram</span></tt></a></li>
<li><a class="reference download internal" href="../_downloads/serviceHl.dia"><tt class="xref download docutils literal"><span class="pre">Services</span> <span class="pre">High</span> <span class="pre">level</span> <span class="pre">Class</span> <span class="pre">Diagram</span></tt></a></li>
<li><a class="reference download internal" href="../_downloads/service.dia"><tt class="xref download docutils literal"><span class="pre">Services</span> <span class="pre">Complete</span> <span class="pre">Class</span> <span class="pre">Diagram</span></tt></a></li>
<li><a class="reference download internal" href="../_downloads/sockets.dia"><tt class="xref download docutils literal"><span class="pre">Sockets</span> <span class="pre">Complete</span> <span class="pre">Class</span> <span class="pre">Diagram</span></tt></a></li>
<li><a class="reference download internal" href="../_downloads/daoHl.dia"><tt class="xref download docutils literal"><span class="pre">Dao</span> <span class="pre">High</span> <span class="pre">level</span> <span class="pre">Class</span> <span class="pre">Diagram</span></tt></a></li>
<li><a class="reference download internal" href="../_downloads/dao.dia"><tt class="xref download docutils literal"><span class="pre">Dao</span> <span class="pre">Complete</span> <span class="pre">Class</span> <span class="pre">Diagram</span></tt></a></li>
<li><a class="reference download internal" href="../_downloads/entity.dia"><tt class="xref download docutils literal"><span class="pre">Entities</span> <span class="pre">Class</span> <span class="pre">Diagram</span></tt></a></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Class Diagrams</a><ul>
<li><a class="reference internal" href="#controller-class-diagram">Controller Class Diagram</a><ul>
<li><a class="reference internal" href="#detailed-class-diagram">Detailed Class Diagram</a></li>
</ul>
</li>
<li><a class="reference internal" href="#service-and-persistence-class-diagram">Service and Persistence Class Diagram</a><ul>
<li><a class="reference internal" href="#service-detailed-class-diagram">Service Detailed Class Diagram</a></li>
<li><a class="reference internal" href="#sockets-class-diagram">Sockets Class Diagram</a></li>
<li><a class="reference internal" href="#dao-class-diagram">Dao Class Diagram</a><ul>
<li><a class="reference internal" href="#dao-detailed-class-diagram">DAO Detailed Class Diagram</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#entities-class-diagram">Entities Class Diagram</a></li>
<li><a class="reference internal" href="#diagrams-source-files">Diagrams Source Files</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="architecture.html"
                        title="previous chapter">Architecture</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="sequence-diagrams.html"
                        title="next chapter">Sequence Diagrams</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/architecture/class-diagrams.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="sequence-diagrams.html" title="Sequence Diagrams"
             >next</a> |</li>
        <li class="right" >
          <a href="architecture.html" title="Architecture"
             >previous</a> |</li>
        <li><a href="../index.html">ATMMonitoring 1.0 documentation</a> &raquo;</li>
          <li><a href="architecture.html" >Architecture</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, NCR.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>